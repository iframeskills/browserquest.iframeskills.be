(function(a){function h(b){var c=0,d=b.length,e=[],f=a,g=null,h=0,i=-1,j=!1,k=!1,l="",m=null,n=0;while(c<d){h=b.charCodeAt(c++),g=e[i];if(j&&k&&h>16)l=b.substring(c,c+h-17),c+=h-17,k=!1;else if(h===8||h===10)m=h===8?[]:new Object,k=j=h===10,f!==a?g instanceof Array?g.push(m):g[l]=m:f=m,e.push(m),i++;else if(h===11||h===9)e.pop(),k=j=!(e[--i]instanceof Array);else if(h>16)h=h-17,h=h>115?0-h+116:h+1,g instanceof Array?g.push(h):g[l]=h,k=!0;else if(h>0&&h<5)((h-1)/2|0)===0?(m=b.charCodeAt(c),c++):(m=(b.charCodeAt(c)<<16)+b.charCodeAt(c+1),c+=2),m=h%2?m+1:0-m,g instanceof Array?g.push(m):g[l]=m,k=!0;else if(h>12&&h<17)((h-13)/2|0)===0?(n=b.charCodeAt(c),n>127?(m=0,n-=128,c++):(m=b.charCodeAt(c+1),c+=2)):(m=(b.charCodeAt(c)<<16)+b.charCodeAt(c+1),n=b.charCodeAt(c+2),c+=3),m=h%2?m+n*.01:0-(m+n*.01),g instanceof Array?g.push(m):g[l]=m,k=!0;else if(h>4&&h<7)g instanceof Array?g.push(h===5):g[l]=h===5,k=!0;else if(h===0)g instanceof Array?g.push(null):g[l]=null,k=!0;else if(h===7){m=0;while(b.charCodeAt(c)===65535)m+=65535,c++;m+=b.charCodeAt(c++),g instanceof Array?g.push(b.substr(c,m)):g[l]=b.substr(c,m),c+=m,k=!0}}return f}function g(a){e="",f(a,!0);return e}function f(a,b){if(typeof a=="number"){var d=a|0;if(d!==a){var g=0,h=(a-d)*100;h<0?(g=(h+1|0)-h,h=g>=1&&g<=1.5?h|0:h-1|0):(g=h|0,h=h-g>=.5?h+1|0:g),g=0,a<0&&(d=0-d,h=0-h,g=1),d<65536?d===0?e+=c[13+g]+c[h+128]:e+=c[13+g]+c[h]+c[d]:e+=c[15+g]+c[d>>16&65535]+c[d&65535]+c[h]}else{var g=0;a<=0?(a=0-a,g=1):a--,a<116?e+=c[17+a+g*116]:a<65536?e+=c[1+g]+c[a]:e+=c[3+g]+c[a>>16&65535]+c[a&65535]}}else if(typeof a=="string"){var i=a.length;e+=c[7];while(i>=65535)i-=65535,e+=c[65535];e+=c[i]+a}else if(a===!0)e+=c[5];else if(a===!1)e+=c[6];else if(a===null)e+=c[0];else if(a instanceof Array){e+=c[8];for(var j=0,i=a.length;j<i;j++)f(a[j],!1);b||(e+=c[9])}else if(a instanceof Object){e+=c[10];for(var k in a)e+=c[17+k.length]+k,f(a[k],!1);b||(e+=c[11])}}var b=String.fromCharCode,c=Array(65536);for(var d=0;d<65536;d++)c[d]=b(d);var e="";typeof window=="undefined"?(exports.encode=g,exports.decode=h):window.BISON={encode:g,decode:h}})()